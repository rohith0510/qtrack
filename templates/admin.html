<!DOCTYPE html>
<html lang="en" class="light-style layout-navbar-fixed layout-menu-fixed layout-compact " dir="ltr"
      data-theme="theme-default" data-assets-path="static/assets/" data-template="vertical-menu-template"
      xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <title>Dashboard - Admin |  - Bootstrap Admin Template</title>
    <meta name="description" content="" />
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="static/assets/img/favicon/favicon.ico" />
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&ampdisplay=swap"
      rel="stylesheet" />
    <!-- Icons -->
    <link rel="stylesheet" href="static/assets/vendor/fonts/fontawesome.css" />
    <link rel="stylesheet" href="static/assets/vendor/fonts/tabler-icons.css" />
    <link rel="stylesheet" href="static/assets/vendor/fonts/flag-icons.css" />
    <!-- Core CSS -->
    <link rel="stylesheet" href="static/assets/vendor/css/rtl/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="static/assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="static/assets/css/demo.css" />
    <!-- Vendors CSS -->
    <link rel="stylesheet" href="static/assets/vendor/libs/node-waves/node-waves.css" />
    <link rel="stylesheet" href="static/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="static/assets/vendor/libs/typeahead-js/typeahead.css" />
    <link rel="stylesheet" href="static/assets/vendor/libs/apex-charts/apex-charts.css" />
    <link rel="stylesheet" href="static/assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css" />
    <link rel="stylesheet" href="static/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css" />
    <!-- Page CSS -->
    <link rel="stylesheet" href="static/assets/vendor/css/pages/app-logistics-dashboard.css" />
    <!-- Helpers -->
    <script src="static/assets/vendor/js/helpers.js"></script>
    <script src="static/assets/vendor/js/template-customizer.js"></script>
    <script src="static/assets/js/config.js"></script>

</head>
<body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <!-- Menu -->
        <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
            <div class="app-brand demo">
                <a href="javascript:void(0);" class="app-brand-link">
                    <span class="app-brand-logo demo">
                        <img src="static/assets/img/favicon/favicon.ico" />
                    </span>
                    <span class="app-brand-text demo menu-text fw-bold">VulcansBuild</span>
                </a>
                <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto">
                    <i class="ti menu-toggle-icon d-none d-xl-block ti-sm align-middle"></i>
                    <i class="ti ti-x d-block d-xl-none ti-sm align-middle"></i>
                </a>
            </div>
            <div class="menu-inner-shadow"></div>
            <ul class="menu-inner py-1">

                <li class="menu-item">
                        <a href="javascript:void(0);" class="menu-link menu-toggle" id="dashboardLink">
                            <i class="menu-icon tf-icons ti ti-smart-home"></i>
                            <div data-i18n="Dashboards">Dashboards</div>
                        </a>
                <li class="menu-item">
    <a href="javascript:void(0);" class="menu-link menu-toggle" id="EmployeeDetailsLink">
        <i class="menu-icon tf-icons ti ti-user"></i>
        <div data-i18n="Employee Management">Employee Management</div>
    </a>
    <ul class="menu-sub" id="EmployeeSubmenu">
        <li class="menu-item">
            <a href="#" class="menu-link" id="EmployeeLink">
                <div data-i18n="Add details">Add details</div>
            </a>
        </li>
        <li class="menu-item">
            <a href="#" class="menu-link" id="EmployeeListLink">
                <div data-i18n="Employee List">Employee List</div>
            </a>
        </li>
    </ul>
</li>
<li class="menu-item">
    <a href="javascript:void(0);" class="menu-link menu-toggle" id="userMenuToggle">
        <i class="menu-icon tf-icons ti ti-users"></i>
        <div data-i18n="Users">Users</div>
    </a>
    <ul class="menu-sub" id="userMenuSub">
        <li class="menu-item">
            <a href="#" class="menu-link" id="userListLink">
                <div data-i18n="List">List</div>
            </a>
        </li>
    </ul>
</li>
                     <li class="menu-item">
                         <a href="javascript:void(0);" class="menu-link menu-toggle" id="viewsLink">
                             <i class="menu-icon tf-icons ti ti-components"></i>
                              <div data-i18n="Views">Views</div>
                             </a>
                         </li>
                    <li class="menu-item">
          <a href="javascript:void(0);" class="menu-link menu-toggle" id="accountLink">
               <i class="menu-icon tf-icons ti ti-lock"></i>
            <div data-i18n="Account Settings">Account Settings</div>
          </a>
 </li>
                </ul>
            </aside>
            <!-- / Menu -->
            <!-- Layout container -->
            <div class="layout-page">
                <!-- Navbar -->
                <nav class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme" id="layout-navbar">
                    <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
                        <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                            <i class="ti ti-menu-2 ti-sm"></i>
                        </a>
                    </div>
                    <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
                        <!-- Search -->
                        <div class="navbar-nav align-items-center">
                            <div class="nav-item navbar-search-wrapper mb-0">
                                <a class="nav-item nav-link search-toggler d-flex align-items-center px-0" href="javascript:void(0);">
                                    <i class="ti ti-search ti-md me-2"></i>
                                    <span class="d-none d-md-inline-block text-muted">Search (Ctrl+/)</span>
                                </a>
                            </div>
                        </div>
                        <!-- /Search -->
                        <ul class="navbar-nav flex-row align-items-center ms-auto">
                            <!-- Style Switcher -->
                            <li class="nav-item dropdown-style-switcher dropdown me-2 me-xl-0">
                                <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown">
                                    <i class="ti ti-md"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end dropdown-styles">
                                    <li>
                                        <a class="dropdown-item" href="javascript:void(0);" data-theme="light">
                                            <span class="align-middle"><i class="ti ti-sun me-2"></i>Light</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="javascript:void(0);" data-theme="dark">
                                            <span class="align-middle"><i class="ti ti-moon me-2"></i>Dark</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="javascript:void(0);" data-theme="system">
                                            <span class="align-middle"><i class="ti ti-device-desktop me-2"></i>System</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <!-- / Style Switcher-->
                         <!-- User -->
<li class="nav-item navbar-dropdown dropdown-user dropdown">
    <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown">
        <div class="avatar avatar-online">
            <img src="{{ url_for('static', filename='uploads/' + photo_filename) }}" alt class="rounded-circle" /> <!-- Include user's photo --><!-- Include user's photo -->
        </div>
    </a>
    <ul class="dropdown-menu dropdown-menu-end">
        <li>
            <a class="dropdown-item">
                <div class="d-flex">
                    <div class="flex-shrink-0 me-3">
                        <div class="avatar avatar-online">
                            <img src="{{ url_for('static', filename='uploads/' + photo_filename) }}" alt class="rounded-circle" /> <!-- Include user's photo -->
                        </div>
                    </div>
                    <div class="flex-grow-1">
                        <span class="fw-medium d-block">{{ first_name }}</span>
                        <small class="text-muted">{{ role }}</small>
                    </div>
                </div>
            </a>
        </li>
        <li>
            <div class="dropdown-divider"></div>
        </li>
        <li>
            <a class="dropdown-item"  target="_blank">
                <i class="ti ti-logout me-2 ti-sm"></i>
                <span class="align-middle">Log Out</span>
            </a>
        </li>
    </ul>
</li>



                            <!--/ User -->
                        </ul>
                    </div>
                    <!-- Search Small Screens -->
                    <div class="navbar-search-wrapper search-input-wrapper d-none">
                        <input
                            type="text"
                            class="form-control search-input container-xxl border-0"
                            placeholder="Search..."
                            aria-label="Search..." />
                        <i class="ti ti-x ti-sm search-toggler cursor-pointer"></i>
                    </div>
                </nav>
                <!-- / Navbar -->

                <!-- Content wrapper -->
                <div class="content-wrapper">
                    <!-- Content -->

                    <div class="container-xxl flex-grow-1 container-p-y">





  <!-- QCReportsContent -->
                     <div id="QCReportsContent" style="display: none;">
    <div class="card">
        <h5 class="card-header">QC Report Form</h5>
        <div class="card-body">
            <form id="qcReportForm">
                <div class="row">
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="report_id">Report ID</label>
                        <input type="text" id="report_id" class="form-control" required />
                    </div>
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="date_submission">Date of Submission</label>
                        <input type="date" id="date_submission" class="form-control" required />
                    </div>
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="submitted_by">Submitted By (Team Lead)</label>
                        <input type="text" id="submitted_by" class="form-control" required />
                    </div>
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="project_name">Project Name</label>
                        <input type="text" id="project_name" class="form-control" required />
                    </div>
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="description">Description of Issue/Task</label>
                        <textarea id="description" class="form-control" rows="4" required></textarea>
                    </div>
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="qc_scores">QC Evaluation Scores</label>
                        <input type="text" id="qc_scores" class="form-control" />
                    </div>
                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                        <label class="form-label" for="status">Status</label>
                        <select id="status" class="form-select" required>
                            <option value="">Select Status</option>
                            <option value="Pending Review">Pending Review</option>
                            <option value="Reviewed">Reviewed</option>
                            <option value="Sent to Manager">Sent to Manager</option>
                        </select>
                    </div>
                    <div class="mb-3 col-lg-12 col-xl-12 col-12 mb-0 d-flex align-items-center">
                        <button class="btn btn-success mt-4" id="submitQCReportButton">
                            Submit
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


























                        <!-- User Details Content -->
                        <div id="userDetailsContent" style="display: none;">
                            <h4 class="py-3 mb-4">User Details</h4>


                    <!-- Add your user details content here -->
<div class="row g-4">
  <!-- For each role, display its count -->
  {% for role, count in role_counts.items() %}
  <div class="col-xl-4 col-lg-6 col-md-6 mb-4">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between">
          <h6 class="fw-normal mb-2">Total {{ role }}: {{ count }}</h6>
          <ul class="list-unstyled d-flex align-items-center avatar-group mb-0">
            <!-- Loop through users for the current role and display their avatars -->
            {% for user in roles if user['Role'] == role %}
            <li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="{{ user['Username'] }}" class="avatar avatar-sm pull-up">
              <img class="rounded-circle" src="static/uploads{{ user['photo filename'] }}" alt="Avatar">
            </li>
            {% endfor %}
          </ul>
        </div>
        <div class="d-flex justify-content-between align-items-end mt-1">
          <div class="role-heading">
            <h4 class="mb-1">{{ role }}</h4>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

                    <!-- Add your user details content here -->
    <div class="card">
    <h5 class="card-header">USER LIST</h5>
    <div class="table-responsive text-nowrap">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>User ID</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Role
                    <th>Photo</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody class="table-border-bottom-0">
                {% for user in users %}
                <tr>
                    <td>{{ user['user_id'] }}</td>
                    <td>{{ user['first_name'] }} {{ user['last_name'] }}</td>
                    <td>{{ user['email'] }}</td>
                    <td>{{ user['role'] }}</td>
                     <td><img src="{{ url_for('static', filename='uploads/' + user['photo_filename']) }}" alt="User Photo" style="max-width: 50px;"></td>
                    <td>
                        <div class="dropdown">
                            <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="ti ti-dots-vertical"></i></button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item view-user" href="javascript:void(0);" data-username="{{ user['first_name'] }} {{ user['last_name'] }}" data-email="{{ user['email'] }}" data-phone_number="{{ user['phone_number'] }}" data-status="{{ user['status'] }}" data-role="{{ user['role'] }}" data-project="{{ user['project'] }}" data-state_file="{{ user['state_file'] }}"><i class="ti ti-pencil me-1"></i>View</a>


                            </div>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div id="delete-message" class="mt-3"></div>
                        </div>

<!-- Placeholder for displaying user details under the "Views" menu -->
                    <!-- views Content -->
                        <div id="viewsContent" style="display: none;">
                            <div class="row">
                            </div>
                            </div>

                    <!-- Add details Content -->
                    <div id="EmployeeContent" style="display: none;">
    <h4 class="py-3 mb-4">Employee Details</h4>
    <div class="card-body">
        <div class="d-flex align-items-start align-items-sm-center gap-4">
             <img id="photoPreview" src="#" alt="Uploaded Photo" style="display: none; max-width: 100px; height: auto;">
             <div class="button-wrapper">
        </div>
    </div>
</div>
      <hr class="my-0">
      <div class="card-body">
        <form id="formAddSettings" method="POST" enctype="multipart/form-data" onsubmit="submitForm(event)">
          <div class="row">

               <div class="mb-3 col-md-6">
              <label for="Emp_No" class="form-label">Emp_No</label>
              <input type="number" id="Emp_No" name="emp_no" class="form-control" />

            </div>

              <div class="mb-3 col-md-6">
              <label for="firstName" class="form-label">First Name</label>

<input class="form-control" type="text" id="firstName" name="first_name"  />

            </div>
            <div class="mb-3 col-md-6">
              <label for="lastName" class="form-label">Last Name</label>
              <input class="form-control" type="text" name="last_name" id="lastName" />
            </div>
                  <div class="mb-3 col-md-6">
              <label for="email" class="form-label">E-mail</label>
              <input class="form-control" type="text" id="email" name="email" />
            </div>
           <div class="mb-3 col-md-6">
    <label for="Designation" class="form-label">Designation</label>
    <select class="form-select" id="Designation" name="Designation">
        <option value="BIM MODELLER 1">BIM MODELLER 1</option>
        <option value="BIM MODELLER 2">BIM MODELLER 2</option>
        <option value="BIM MODELLER 3">BIM MODELLER 3</option>
         <option value="ASSISTANT MANAGER 1">ASSISTANT MANAGER 1</option>
          <option value="BIM DELIVERY MANAGER 1">BIM DELIVERY MANAGER 1</option>
          <option value="VP DELIVERY HEAD">VP DELIVERY HEAD</option>
          <option value="CTO">CTO</option>
         <option value="CSO">CSO</option>
        <option value="CEO">CEO</option>
        <option value="TECHNOLOGY DEVELOPER 1">TECHNOLOGY DEVELOPER 1</option>
        <option value="TECHNOLOGY DEVELOPER 2">TECHNOLOGY DEVELOPER 2</option>
        <option value="ASSISTANT MANAGER PRODUCT DEVELOPMENT">ASSISTANT MANAGER PRODUCT DEVELOPMENT</option>
        <option value="HEAD, PROJECT MANAGEMENT">HEAD PROJECT MANAGEMENT</option>
        <option value="VP SALES">VP SALES</option>
        <option value="SCANNING UNIT HEAD">SCANNING UNIT HEAD</option>
        <option value="SR. SCANNING CONSULTANT">SR.SCANNING CONSULTANT</option>
        <option value="IT ADMIN">IT ADMIN</option>
        <option value="HUMAN RESOURCE MANAGER">HUMAN RESOURCE MANAGER</option><!-- Add more options as needed -->
    </select>
</div>
            <div class="mb-3 col-md-6">
              <label class="form-label" for="MobileNumber">Mobile No</label>
              <div class="input-group input-group-merge">
                <span class="input-group-text">Ind (+91)</span>
                <input type="text" id="MobileNumber" name="Mobile_Number" class="form-control" placeholder="1234567890" />
              </div>
            </div>



<div class="mb-3 col-md-6">
    <label for="photo" class="form-label">Photo Upload</label>
    <div class="custom-file">
        <input type="file" class="custom-file-input" id="photo" name="photo" accept="image/*" onchange="displayPhotoPreview(this)">
    </div>
    <img id="photoPreview" src="#" alt="Uploaded Photo" style="display: none; max-width: 100px; height: auto;">
</div>

</div>



          <div class="mt-2">
            <button type="submit" class="btn btn-primary me-2">Save</button>
            <button type="reset" class="btn btn-label-secondary">Reset</button>
          </div>
        </form>
      </div>

                    </div>

<!-- Account -->
  <div id="AccountContent" style="display: none;">
    <h4 class="py-3 mb-4">Account Details</h4>
    <div class="card-body">
        <div class="d-flex align-items-start align-items-sm-center gap-4">
             <img id="photoPreview" src="#" alt="Uploaded Photo" style="display: none; max-width: 100px; height: auto;">
             <div class="button-wrapper">
        </div>
    </div>
</div>
      <hr class="my-0">
      <div class="card-body">
        <form id="formAccountSettings" method="POST" enctype="multipart/form-data">
          <div class="row">

               <div class="mb-3 col-md-6">
              <label for="User_id" class="form-label">User_id</label>
              <input type="number" id="User_id" class="form-control" />
            </div>




            <div class="mb-3 col-md-6">
              <label for="firstName" class="form-label">First Name</label>

<input class="form-control" type="text" id="firstName" name="first_name"  />

            </div>
            <div class="mb-3 col-md-6">
              <label for="lastName" class="form-label">Last Name</label>
              <input class="form-control" type="text" name="last_name" id="lastName" />
            </div>

                           <div class="mb-3 col-md-6">
    <label for="username" class="form-label">Username</label>
    <input class="form-control" type="text" id="username" name="username" />
</div>
<div class="mb-3 col-md-6">
    <label for="password" class="form-label">Password</label>
    <input class="form-control" type="password" id="password" name="password" />
</div>
            <div class="mb-3 col-md-6">
              <label for="email" class="form-label">E-mail</label>
              <input class="form-control" type="text" id="email" name="email" />
            </div>
           <div class="mb-3 col-md-6">
    <label for="Role" class="form-label">Role</label>
    <select class="form-select" id="Role" name="Role">
        <option value="Admin">Admin</option>
        <option value="Manager">Manager</option>
        <option value="Modeller">Modeller</option>
         <option value="Teamleader">Teamleader</option>
         <option value="QC">QC</option>
        <!-- Add more options as needed -->
    </select>
</div>
            <div class="mb-3 col-md-6">
              <label class="form-label" for="MobileNumber">Mobile No</label>
              <div class="input-group input-group-merge">
                <span class="input-group-text">Ind (+91)</span>
                <input type="text" id="MobileNumber" name="Mobile_Number" class="form-control" placeholder="1234567890" />
              </div>
            </div>



<div class="mb-3 col-md-6">
    <label for="photo" class="form-label">Photo Upload</label>
    <div class="custom-file">
        <input type="file" class="custom-file-input" id="photo" name="photo" accept="image/*" onchange="displayPhotoPreview(this)">
    </div>
    <img id="photoPreview" src="#" alt="Uploaded Photo" style="display: none; max-width: 100px; height: auto;">
</div>

</div>



          <div class="mt-2">
            <button type="submit" class="btn btn-primary me-2">Save</button>
            <button type="reset" class="btn btn-label-secondary">Reset</button>
          </div>
        </form>
      </div>


      <!-- /Account -->



    </div>

      </div>
    </div>
  </div>
</div>


          </div>
          <!-- / Content -->
                <div class="content-backdrop fade"></div>
  <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->
    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->

    <script src="static/assets/vendor/libs/jquery/jquery.js"></script>
    <script src="static/assets/vendor/libs/popper/popper.js"></script>
    <script src="static/assets/vendor/js/bootstrap.js"></script>
    <script src="static/assets/vendor/libs/node-waves/node-waves.js"></script>
    <script src="static/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="static/assets/vendor/libs/hammer/hammer.js"></script>
    <script src="static/assets/vendor/libs/i18n/i18n.js"></script>
    <script src="static/assets/vendor/libs/typeahead-js/typeahead.js"></script>
    <script src="static/assets/vendor/js/menu.js"></script>

    <!-- endbuild -->
    <!-- Vendors JS -->
    <script src="static/assets/vendor/libs/apex-charts/apexcharts.js"></script>
    <script src="static/assets/vendor/libs/datatables-bs5/datatables-bootstrap5.js"></script>
    <script src="static/assets/vendor/libs/chartjs/chartjs.js"></script>

    <!-- Main JS -->
    <script src="static/assets/js/main.js"></script>

    <!-- Page JS -->
    <script src="static/assets/js/app-logistics-dashboard.js"></script>
    <script src="static/assets/js/charts-chartjs.js"></script>
    <script src="static/assets/js/blank.js"></script>



</body>
</html>